(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8451],{52635:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games",function(){return s(56610)}])},56610:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return j}});var r=s(52322),a=s(2784),t=s(71095),l=s(16298),i=s(63955),o=s(75783),c=s(15375),d=s(40991),m=s(31398),u=s(29036),p=s(28195),x=s(27742),g=s(97459);let f=e=>{let{tags:n={},...s}=e,r=Object.entries(n).filter(e=>{let[,n]=e;return null==n?void 0:n.length}).flatMap(e=>{let[n,s]=e;return s.map(e=>({category:n,name:e}))});return{...s,tags:r}},h=e=>{let{params:n={}}=e,{isLoading:s,...a}=(0,g.Kx)({schema:{keywords:(0,g.Z_)(),chainIds:(0,g.IX)(),tags:(0,g.IX)()},params:n}),t=(0,p.dD)();return s||null===t?(0,r.jsx)(m.gb,{}):(0,r.jsx)(b,{...a,isMobile:t})},b=e=>{let{value:n,onChange:s,isMobile:g}=e,h=(0,c.jm)(),b=(0,a.useRef)(),j=(0,i.cI)({defaultValues:n}),{t:w}=(0,l.YB)(),{account:{roles:k}}=(0,o.aC)(),y=null==k?void 0:k.includes("admin"),_=(0,i.qo)({control:j.control}),{items:C,isLoading:v,isFetchingNextPage:I,fetchNextPage:E,hasNextPage:z}=(0,c.sO)({params:{...f(_),limit:24}}),L=()=>{j.reset({keywords:"",chainIds:[],tags:{Player:[],Genre:[],Art:[],Type:[],Platform:[],Status:[]}}),(null==b?void 0:b.current)&&(b.current.value="")};return(0,a.useEffect)(()=>{s(_)},[_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.HJ,{title:"Explore Games"}),(0,r.jsxs)(t.kCb,{w:"full",px:{base:4,md:8},justifyContent:"space-between",alignItems:{base:"start",md:"center"},direction:{base:"column",md:"row"},gap:"3",mt:"8",mb:{base:"1",md:"4"},children:[(0,r.jsx)(t.X6q,{as:"h3",children:w("LT0523","All Games")}),y&&(0,r.jsx)(d.Qj,{w:{base:"full",md:"max-content"},size:"lg",colorScheme:"primary",variant:"solid",href:"/games/create",children:w("LT0460","Create New Game")})]}),(0,r.jsx)(t.xuv,{w:"full",px:{base:4,md:8},bg:"background.primary",position:"sticky",top:"80px",zIndex:"2",mb:{base:"3",md:"2"},children:(0,r.jsx)(t.gCW,{position:"sticky",top:"80px",zIndex:"2",spacing:"2",bg:"background.primary",py:"2",children:(0,r.jsx)(p.hR,{tagsQuery:h,form:j,isMobile:g,keywordsRef:b,onClearAll:()=>L()})})}),(0,r.jsxs)(t.W20,{maxW:"full",px:{base:4,md:8},children:[(0,r.jsx)(p.z2,{form:j,keywordsRef:b,onClearAll:()=>L()}),v?(0,r.jsx)(m.gb,{}):(0,r.jsxs)(t.kCb,{direction:"column",gap:"6",children:[(0,r.jsx)(t.MIq,{columns:[2,2,3,4,4,5],gap:{base:"2",md:"4"},children:C.length>0&&C.filter(e=>e.isShow).map(e=>(0,r.jsx)(u.Z,{game:e,isLoading:v},e.id))}),z&&(0,r.jsx)(t.zxk,{onClick:E,isLoading:I,alignSelf:"center",colorScheme:"mono",size:"lg",children:w("LT0255","Load More")})]})]})]})};var j=h}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=52635)}),_N_E=e.O()}]);